
## 10.3. 보고서 도구 

```
이 챕터에서는 Neo4j Admin의 report 명령어에 대해서 다룹니다. 
```

```neo4j-admin```의 ```report``` 명령어를 사용해서 Neo4j 설치 및 기록 저장소 관련 정보를 얻습니다. 

```
neo4j-admin report [--list] [--to=</tmp>] [--verbose] [--force] [all][<classifier1> <classifier2> …]
```

보고서 도구 사용 의도는 표준 방식으로 관련 정보를 수집하여 지원하는 프로세스를 단순화하는 것 입니다. 이 도구는 어떤 정보도 자동으로 전송하지 않습니다. 이 정보를 Neo4j 지원 조직과 공유하려면, 이것을 수동으로 전송해야 합니다. 

**옵션**

| 옵션      | 기본 값  | 설명                                           |
| --------- | -------- | ---------------------------------------------- |
| --to      | reports/ | 보고서를 기록할 대상 디렉토리를 정합니다.      |
| --list    |          | 이용가능한 분류자를 리스트합니다.              |
| --verbose |          | 더 자세한 출력을 인쇄하도록 도구에 알려줍니다. |
| --force   |          | 디스크 공간 검사기를 비활성화합니다.           |

기본적으로 이 도구는 보고서의 최종 사이즈를 측정하여 이용가능한 충분한 저장소 공간이 있는지 확인합니다. 저장소 공간이 부족하면 도구 사용을 중단합니다. 그러나 이 측정은 압축을 고려하지 않으므로 디스크 공간이 충분할 경우 ```--force``` 옵션을 사용하여 이것을 비활성합니다. 

**구분자**

| 구분자      | 온라인 | 설명                                                     |
| ----------- | ------ | -------------------------------------------------------- |
| `all`       |        | 이용가능한 모든 구분자를 포함합니다.                     |
| `activetxs` | X      | `dbms.listTransactions()`의 출력을 포함합니다.           |
| `ccstate`   |        | 현재 클러스터 상태를 포함합니다.                         |
| `config`    |        | `neo4j.conf` 파일을 포함합니다.                          |
| `env`       | X      | 모든 환경 변수 리스트를 포함합니다.                      |
| `heap`      | X      | heap 덤프를 포함합니다.                                  |
| `logs`      |        | `debug.log`, `neo4j.log` 와 같은 로그 파일을 포함합니다. |
| `metrics`   |        | 수집된 메트릭스를 포함합니다.                            |
| `plugins`   |        | 플러그인 디렉토리의 텍스트 뷰를 포함합니다.              |
| `ps`        |        | 실행되는 프로세스 리스트를 포함합니다.                   |
| `raft`      |        | raft 로그를 포함합니다.                                  |
| `sysprop`   | X      | java 시스템 속성 리스트를 포함합니다.                    |
| `threads`   | X      | 실행되는 인스턴스의 스레드 덤프를 포함합니다.            |
| `tree`      |        | 데이터 디렉토리의 폴더 구조 텍스트 뷰를 포함합니다.      |
| `tx`        |        | 트랜잭션 로그를 포함합니다.                              |

*Online*로 표시된 구분자는 도구가 찾을 수 있고 실행되는 Neo4j 인스턴스에서만 실행됩니다.
만약 구분자가 없다면, 다음 구분자를 사용합니다. : ```logs```, ```config```, ```plugins```, ```tree```, ```metrics```, ```threads```, ```env```, ```sysprop``` 및 ```ps```.

보고서 도구는 데이터베이스의 모든 데이터를 읽지는 않습니다. 그러나 힙, raft 로그 및 트랜잭션 로그에는 데이터를 포함할 수 있습니다. 또한 표준 ```neo4j.conf``` 파일에는 암호 정보가 포함되어 있지 않지만 특정 구성의 경우 이 정보가 있을 수도 있습니다. 따라서 ```heap```,```tx```,```raft``` 및 ```config``` 분류자를 사용하기 전에 조직의 데이터 보안 규칙을 알아야 합니다.


이 도구는 실행하는 Neo4j 인스턴스에서 데이터를 얻기위해서 추가 [Java API](https://docs.oracle.com/javase/8/docs/technotes/guides/attach/index.html)를 사용합니다. 따라서 제대로 실행하려면 Java JDK가 필요합니다.
.
