
## 4.9. 설정 참조

```
이 섹션에서는 Neo4j 인과관계 클러스터를 실행할 때 중요한 설정 사항에 대해서 다룹니다. 
```

### 4.9.1. 공통 설정 사항

| 매개 변수                                                  | 설명                                                         |
| ---------------------------------------------------------- | ------------------------------------------------------------ |
| `dbms.mode`                                                | 이 설정은 데이터베이스 작동을 구성합니다. 인과관계 클러스터링에는 2가지 모드가 있습니다: `CORE` 또는 `READ_REPLICA`.<br />예: `dbms.mode=READ_REPLICA` 는 이 서버를 읽기복제본으로 정의합니다. |
| `causal_clustering.minimum_core_cluster_size_at_formation` | 처음 클러스터 형성 시 알맞은 클러스터 크기입니다. 안전한 클러스터를 형성하기위한 최소 인스턴스 수는 2이지만 최소한의 작동 내결함성을 허용하기 위해 기본적으로 3으로 설정되어 하나의 인스턴스 손실로 인해 클러스터가 작동 가능합니다. |
| `causal_clustering.minimum_core_cluster_size_at_runtime`   | 실행 시간 내 최소 핵심 클러스터 사이즈 입니다. 클러스터 내결함성을 유지하는 최소 인스턴스는 2개이지만, 작동 시에는 3개가 기본 값 입니다. 예: <br />```causal_clustering.minimum_core_cluster_size_at_runtime=3```은 클러스터가 투표 세트에서 핵심 구성원이 3개 아래로 떨어지지 않도록 합니다.(단 두 개 인스턴스만 다수 클러스터를 실행하도록 함.) |
| `causal_clustering.discovery_type`                         | 인과 클러스터링 인스턴스는 데이터베이스 일관성을 보장하기 위해 네트워크를 통해 통신합니다. 클러스터의 각 멤버는 클러스터에 있는 다른 구성원에 대한 부트 스트랩 정보를 제공해야 합니다. 이 설정은 인스턴스가 부트 스트랩을 위해 연결할 다른 인스턴스 주소를 결정할 때 사용할 전략을 세웁니다. 이 설정 값은 ```causal_clustering.initial_discovery_members```가 어떻게 해석되는지 결정합니다. 옵션은 다음과 같습니다. ```LIST```, ```DNS```, ```SRV```<br /> ```LIST```검색을 위해 연결할 코어 서버 주소 목록으로 ```causal_clustering.initial_discovery_members```를 처리하십시오.<br /> ```DNS```<br />DNS를 통해 해결할 도메인 이름으로```causal_clustering.initial_discovery_members```를 처리하십시오. ```causal_clustering.initial_discovery_members```에 지정된 포트에서 검색을 위해 연결할 코어 호스트 이름/IP 주소로 A 레코드를 제공하는 DNS 분석을 기다립니다. <br /> ```SRV```<br />DNS를 통해서 해결할 도메인 이름으로 ```causal_clustering.initial_discovery_members```을 처리하십시오. 검색을 위해 열결 코어의 호스트 이름이나 IP 주소 및 포트가있는 SRV 레코드를 제공하는 DNS 확인이 필요합니다.<br />검색 및 검색 설정과 관련된 자세한 내용은 [클러 스터 멤버의 초기 검색](./clustering/setup-new-cluster.md)을 참조하면 됩니다.<br />예: ```causal_clustering.discovery_type = DNS``` 와```causal_clustering.initial_discovery_members = neo20.example.com : 5000```을 조합하면 *neo20.example.com*의 모든 DNS A 레코드를 가져오고 Neo4j 인스턴스에 연결을 시도합니다 각 A 레코드의 IP 주소에 대해 포트 5000에서 수신합니다. |
| `causal_clustering.initial_discovery_members`              | 인과관계 클러스터링 인스턴스는 데이터베이스 일관성을 보장하기 위해 네트워크를 통해 통신합니다. 인스턴스는 그 자체를 클러스터의 멤버로 등록하고 다른 클러스터 멤버를 위해 연결 정보를 얻고자 이 초기 검색 멤버에 연결합니다. 인스턴스 주소 자체를 명시하는 것은 허용됩니다. 다른 모든 클러스터 별로 주소를 명시할 필요는 없습니다. 그러나, 클러스터를 위해 구성된 초기 검색 멤버가 두 개 이상의 별개 세트로 이루어진다면, 클러스터는 바르게 형성되지 않습니다. 이 설정 옵션에서 공백을 사용하지 마십시오.<br />**예:** ```causal_clustering.initial_discovery_members=neo22:5001,neo21:5001,neo20:5001```와 결합된 ```causal_clustering.discovery_type=LIST```는 포트 5001의 *neo22* 및 포트 5001의 *neo21* 및 포트 5001의 *neo20*을 수신하는 Neo4j 인스턴스에 연결을 시도합니다. |
| `causal_clustering.raft_advertised_address`                | 코어 클러스터 내에서 Neo4j 인스턴스가 Raft 메시지를 수신하는 클러스터의 다른 구성원에게 위치를 지정하는 주소/포트 설정입니다.<br />예**:**  ```causal_clustering.raft_advertised_address=192.168.33.20:7000```는 클러스터 통신을 위해 포트 7000에서 192.168.33.20에 바인딩된 네트워크 인터페이스와 수신합니다. |
| `causal_clustering.transaction_advertised_address`         | 인스턴스가 트랜잭션 운송 캐치업 프로토콜에서 트랜잭션 요청 수신 위치를 지정하는 주소/포트 설정입니다.<br />**예:**`causal_clustering.transaction_advertised_address = 192.168.33.20 : 6001`은 포트 6001의 192.168.33.20에 바인드된 네트워크 인터페이스의 클러스터 멤버에서 트랜잭션을 수신합니다. |
| `causal_clustering.discovery_listen_address`               | 검색 프로토콜에서 사용할 주소/포트 설정입니다. 이 설정은 클러스터의 다른 멤버의 설정된 ```causal_clustering.initial_discovery_members``` 에 포함됩니다.<br />**예:** ```causal_clustering.discovery_listen_address = 0.0.0.0 : 5001```은 포트 5001의 네트워크 인터페이스에서 클러스터 멤버쉽 통신을 수신합니다. |
| `causal_clustering.raft_listen_address`                    | Neo4j 인스턴스가 클러스터 통신을 위해 바인드할 네트워크 인터페이스 및 포트를 지정하는 주소/포트를 설정합니다. 이 설정은 ```causal_clustering.raft_advertised_address``` 설정에서 수신 대기하는 인스턴스에서 알린 주소와 함께 설정해야합니다.<br />**예:** ```causal_clustering.raft_listen_address=0.0.0.0:7000``` 는 7000포트에서 모든 네트워크 인터페이스의 클러스터 통신을 수신합니다. |
| `causal_clustering.transaction_listen_address`             | Neo4j 인스턴스가 클러스터 통신을 위해 바인드 할 네트워크 인터페이스 및 포트를 지정하는 주소/포트 설정. 이 설정은 ```causal_clustering.transaction_advertised_address``` 설정에서 수신될 인스턴스가 주소와 함께 설정해야 합니다.<br />**예:**```causal_clustering.transaction_listen_address = 0.0.0.0 : 6001```은 포트 7000의 네트워크 인터페이스에서 클러스터 통신을 수신합니다. |
| `causal_clustering.refuse_to_be_leader`                    | ```true```로 설정하면 현재 인스턴스가 Raft 리더가되지 않도록합니다. 기본값은`false`이며, 예외적으로 사용하거나 Neo4j 전문 서비스/전문가가 권고한 경우에만 사용해야합니다.<br />**예:** `causal_clustering.refuse_to_be_leader=false` |
| `causal_clustering.cluster_allow_reads_on_followers`       | 팔로워가 일반 기종 설정에서 읽기 전용 쿼리에 사용하도록 기본값은 ```true```로 설정합니다. 참고: 클러스터에 읽기 복제본이 없으면 이 설정과 관계없이 읽기용으로 사용합니다.**예:** `causal_clustering.cluster_allow_reads_on_followers=true` |
| `causal_clustering.store_copy_max_retry_time_per_request`  | 저장소 복사가 실패할 때의 상황입니다. 구성 시간이 충족되지 않는 한 재요청을 시도할 수 있습니다. 큰 저장소나 파일 전송이 늦추는 등 다른 이유로 이러한 현상이 심해질 수도 있습니다.**예:** `causal_clustering.store_copy_max_retry_time_per_request=60min` |

### 4.9.2. 다중-데이터 센터 설정

 | 변수                                                         | 설명                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| `causal_clustering.multi_dc_license`                         | Enables multi-data center features. Requires appropriate licensing.<br />다중 데이터 센터 기능을 사용합니다. 적절한 라이센스가 필요합니다.  예**:** `causal_clustering.multi_dc_license=true` 는 다중-데이터 센터 특징을 이용할 수 있도록 합니다. |
| `causal_clustering.server_groups`                            | 로드 발렌스 조정 및 복제 정책을 구성할 때 사용하는 서버 그룹 이름 리스트입니다.<br />**예:** ```causal_clustering.server_groups=us,us-east```는 현재 인스턴스를 그룹 ```us``` 및 ```us-east```에 추가합니다. |
| `causal_clustering.upstream_selection_strategy`              | 트랜잭션 업데이트 내용이 있는 업스트림 데이터베이스 서버를 선택시 복제본을 읽는 전략의 기본 내림차순 설정 목록입니다. **예:** ```causal_clustering.upstream_selection_strategy = connect-randomly-within-server-group,typically-connect-to-random-read-replica```은 동작을 구성하여 읽기 복제본이 먼저 ```causal_clustering.server_groups```에 지정된 그룹 내 다른 인스턴스에 연결을 시도합니다. 해당 그룹에서 실제 인스턴스를 찾지 못하면 임의의 읽기 복제본에 연결합니다. ```user_defined``` 값은```causal_clustering.user_defined_upstream_strategy``` 설정을 사용하여 커스텀 전략 정의를 가능하게합니다. |
| `causal_clustering.user_defined_upstream_strategy`           | 업스트림 의존성 설정 구성을 정의합니다. ```causal_clustering.upstream_selection_strategy```가 ```user_defined```로 정의된 경우에만 사용가능합니다.<br />**예:** ```causal_clustering.user_defined_upstream_strategy = groups (north2); groups(north); halt ()``` 는```north2```에서 서버를 찾을 것입니다. 이용가능한 것이 없다면 ```north``` 서버 그룹을 볼 것 입니다. 마지막으로, 이전 그룹의 서버를 확인할 수 없다면 규칙 체인은 ```halt ()```를 통해 중지됩니다. |
| `causal_clustering.load_balancing.plugin`                    | 사용할 로드 발렌싱 플러그인. 사전에 정의한 ```server_policies``` 하나의 플러그인을 기본적으로 사용할 수 있습니<br />**예:** ```causal_clustering.load_balancing.plugin = server_policies```는 맞춤 정책 정의를 가능하게합니다. |
| `causal_clustering.load_balancing.config.server_policies.<policy-name>` | ```<policy-name>``` 이름으로 사용자 정의 정책을 정의합니다. 로드 발렌싱 정책은 클러스터 전체를 구성하므로 모든 핵심 시스템에서 동일한 방법으로 정의해야합니다.<br />**예:** ```causal_clustering.load_balancing.config.server_policies.north1_only = groups (north1) → min (2); halt ();```는 ```north1_only```라는 로드 밸런싱 정책을 정의합니다. 쿼리는 ```north1``` 서버 그룹 내 서버에게만 보낼 수 있습니다. ```north1```에 서버가 2개 미만이면 체인이 정지됩니다. |